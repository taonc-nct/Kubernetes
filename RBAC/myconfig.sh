#!bin/bash
cat <<EOF > config
apiVersion: v1
clusters:
- cluster:
    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMvakNDQWVhZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJME1ERXhOekUyTVRnek9Gb1hEVE0wTURFeE5ERTJNVGd6T0Zvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTXhxCmdVbytXSkxWY29BWlkzR3E0N0tWaUtDUkVMRUtwZE44TW5KN1NobFhLWkZ3ZHJUZmQ1Y29PZVpSSk91TG4yQUMKTWNIaUtEYUtKSWROWFZjNU9ZdFZMYzhURHdvTUFNTk1Fai9LVTJScDNuR3dieHFId2lkVy9NdFJQQkNkUkZ1UgpRRmNodmdJUG1xRkhyMFdnQ2dieExtK1psOXlFZTk2S2lRNjJUY0xBZDc5c0o4bFVDaE9aenZqVkdkQnI3SmhwCklwcGQ1V29nMzlSWmRxYkJGVkpYckx0czFwY212ckJnRFZpU2VOTHFFd3c3QWd3YVhRbUhnMy91d3cwajVndG8KWGZwTWFZbWxFOWxGdnh3Q2RENjM3TE51OTlSTnR4dlM2VVR6WWRpOUIwbGtLcVZDWjh2anRIall4bm1UcXlqeQpUeHRRMS9NVm51MjhNSkJidm1rQ0F3RUFBYU5aTUZjd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZGY241V0hPc1FGVkxqdDhFelFRU2ZOU1l5UFBNQlVHQTFVZEVRUU8KTUF5Q0NtdDFZbVZ5Ym1WMFpYTXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBQmFkc2NYZE4rQTZmM2pyYXVObwpRa281WHdOMnIweFJ0RWpZQzJSVS85dmpFbGcvaFBkNy9KeXE2TnFBWVBNSWNHN09oM0pXRmtlSkg3Qk55ZUl3CjZWZnRZTzJWMGF6dDZvVWpEYm5GWFVPYWdsLzFQaVUyNVV1NFZuTXlGUjhIZUl5cGdkSXQ5R3lPQ3VmQjV6K3MKalAxaE84UEdWYmVjMFIxMlFLeEFOSFRENmQxVXdpQnJmWHBhaElHTjZSdVBObFB1QUpwOXFTVzIwVzdaazBhUwp3RzBNOEVjeWx5RktzTEFPZkl2VVRMeWtJVjNxd1dxMHppRFRlaUoxYXEwckVwMlZGU00yVFU2WnhlQ0p6Z3pWCmpHZkkrTnJFQ3VsOXFlQ0lodUdSNFRiZDZFOTUyUmlhbHdEN3p5TXpFY2lKaEJFU3h4aXhnR3JIT1lITWlPVWgKTFRRPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    server: https://127.0.0.1:6443
  name: cluster.local
contexts:
- context:
    cluster: cluster.local
    user: taonc
  name: kubernetes-admin@cluster.local
current-context: kubernetes-admin@cluster.local
kind: Config
preferences: {}
users:
- name: taonc
  user:
    client-certificate-data: $(cat "myuser.crt" | base64 | tr -d '\n')
    client-key-data: $(cat "private.key" | base64 | tr -d '\n')

EOF